(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return c(4324)}])},4324:function(a,b,c){"use strict";c.r(b),c.d(b,{default:function(){return D}});var d=c(5893),e=c(7294),f=c(7337),g=c(7525),h=c(7366);function i(a){var b=(0,e.useState)({}),c=b[0],i=b[1];return(0,e.useEffect)(function(){if(a.autoUpdate){var b=function(){fetch("".concat(a.aggregator,"/certificate-pending")).then(function(a){return 200===a.status?a.json():{}}).then(function(a){return i(a)}).catch(function(a){i({}),console.error("Fetch certificate-pending error:",a)})};b();var c=setInterval(b,a.updateInterval);return function(){return clearInterval(c)}}},[a.aggregator,a.updateInterval,a.autoUpdate]),(0,d.jsxs)("div",{className:a.className,children:[(0,d.jsx)("h2",{children:"Pending Certificate"}),0===Object.entries(c).length?(0,d.jsx)("p",{children:"No pending certificate available"}):(0,d.jsxs)(f.Z,{children:[(0,d.jsx)(g.Z,{children:(0,d.jsxs)(g.Z.Body,{children:[(0,d.jsx)(g.Z.Title,{children:"Beacon"}),(0,d.jsxs)("div",{children:["Network: ",c.beacon.network]}),(0,d.jsxs)("div",{children:["Epoch: ",c.beacon.epoch]}),(0,d.jsxs)("div",{children:["Immutable File Number: ",c.beacon.immutable_file_number]})]})}),(0,d.jsx)(g.Z,{children:(0,d.jsxs)(g.Z.Body,{children:[(0,d.jsx)(g.Z.Title,{children:"Protocol Parameters"}),(0,d.jsxs)("div",{children:["K: ",c.protocol.k]}),(0,d.jsxs)("div",{children:["M: ",c.protocol.m]}),(0,d.jsxs)("div",{children:["Phi: ",c.protocol.phi_f]})]})}),(0,d.jsx)(g.Z,{children:(0,d.jsxs)(g.Z.Body,{children:[(0,d.jsx)(g.Z.Title,{children:"Signers"}),0===c.signers.length?(0,d.jsx)("div",{children:"No Signers registered"}):(0,d.jsx)(h.Z,{children:c.signers.map(function(a){return(0,d.jsxs)(h.Z.Item,{children:["Party id: ",a.party_id]},a.party_id)})})]})})]})]})}var j=c(8246),k=c(7977),l=c(5005);function m(a){var b=function(){a.onHashChange(m.previous_hash)},c=function(){a.onHashChange(void 0)},i=(0,e.useState)({}),m=i[0],n=i[1];return(0,e.useEffect)(function(){a.hash&&fetch("".concat(a.aggregator,"/certificate/").concat(a.hash)).then(function(a){return 200===a.status?a.json():{}}).then(function(a){return n(a)}).catch(function(a){n({}),console.error("Fetch certificate error:",a)})},[a.aggregator,a.hash]),(0,d.jsxs)(j.Z,{show:void 0!==a.hash,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,d.jsx)(j.Z.Header,{onHide:c,closeButton:!0,children:(0,d.jsxs)(j.Z.Title,{id:"contained-modal-title-vcenter",children:["Certificate ",m.hash]})}),(0,d.jsx)(j.Z.Body,{children:0===Object.entries(m).length?(0,d.jsx)("p",{children:"Not found"}):(0,d.jsxs)(f.Z,{children:[(0,d.jsx)(g.Z,{children:(0,d.jsxs)(g.Z.Body,{children:[(0,d.jsx)(g.Z.Title,{children:"Beacon"}),(0,d.jsxs)("div",{children:["Network: ",m.beacon.network]}),(0,d.jsxs)("div",{children:["Epoch: ",m.beacon.epoch]}),(0,d.jsxs)("div",{children:["Immutable File Number: ",m.beacon.immutable_file_number]})]})}),(0,d.jsx)(g.Z,{children:(0,d.jsxs)(g.Z.Body,{children:[(0,d.jsx)(g.Z.Title,{children:"Protocol Parameters"}),(0,d.jsxs)("div",{children:["K: ",m.metadata.parameters.k]}),(0,d.jsxs)("div",{children:["M: ",m.metadata.parameters.m]}),(0,d.jsxs)("div",{children:["Phi: ",m.metadata.parameters.phi_f]})]})}),(0,d.jsx)(g.Z,{children:(0,d.jsxs)(g.Z.Body,{children:[(0,d.jsx)(g.Z.Title,{children:"Signers"}),0===m.metadata.signers.length?(0,d.jsx)("div",{children:"No Signers for this certificate, something went wrong either with the data retrieval or the signing process"}):(0,d.jsx)(h.Z,{children:m.metadata.signers.map(function(a){return(0,d.jsxs)(h.Z.Item,{children:["Party id: ",a.party_id," - stake: ",a.stake]},a.party_id)})})]})})]})}),(0,d.jsx)(j.Z.Footer,{children:""===m.previous_hash?(0,d.jsx)(k.Z,{bg:"warning",children:"Genesis"}):(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(l.Z,{size:"sm",onClick:b,children:["Previous hash: ",m.previous_hash]})})})]})}var n=c(682),o=c(1608),p=c(1555);function q(a){var b=function(a){r(a)},c=function(a){r(a)},f=(0,e.useState)([]),h=f[0],i=f[1],j=(0,e.useState)(void 0),q=j[0],r=j[1];return(0,e.useEffect)(function(){if(a.autoUpdate){var b=function(){fetch("".concat(a.aggregator,"/snapshots")).then(function(a){return a.json()}).then(function(a){return i(a)}).catch(function(a){i([]),console.error("Fetch snapshots error:",a)})};b();var c=setInterval(b,a.updateInterval);return function(){return clearInterval(c)}}},[a.aggregator,a.updateInterval,a.autoUpdate]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(m,{aggregator:a.aggregator,hash:q,onHashChange:b}),(0,d.jsxs)("div",{className:a.className,children:[(0,d.jsx)("h2",{children:"Snapshots"}),0===Object.entries(h).length?(0,d.jsx)("p",{children:"No snapshot available"}):(0,d.jsx)(n.Z,{fluid:!0,children:(0,d.jsx)(o.Z,{xs:1,md:2,lg:3,xl:4,children:h.map(function(a,b){return(0,d.jsx)(p.Z,{className:"mb-2",children:(0,d.jsxs)(g.Z,{border:0===b?"primary":"",children:[(0,d.jsxs)(g.Z.Body,{children:[(0,d.jsx)(g.Z.Title,{children:a.digest}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{children:["Epoch: ",a.beacon.epoch]}),(0,d.jsxs)("div",{children:["Immutable File Number: ",a.beacon.immutable_file_number]}),(0,d.jsxs)("div",{children:["Certificate hash: ",(0,d.jsx)("br",{}),a.certificate_hash," ",(0,d.jsx)(l.Z,{size:"sm",onClick:function(){return c(a.certificate_hash)},children:"Show"})]}),(0,d.jsxs)("div",{children:["Created at: ",(0,d.jsx)("br",{})," ",new Date(a.created_at).toLocaleString()]}),(0,d.jsxs)("div",{children:["Size: ",function(a){var b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:2;if(0===a)return"0 Bytes";var c=1024,d=b<0?0:b,e=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],f=Math.floor(Math.log(a)/Math.log(c));return parseFloat((a/Math.pow(c,f)).toFixed(d))+" "+e[f]}(a.size)]})]}),(0,d.jsx)(g.Z.Text,{})]}),(0,d.jsxs)(g.Z.Footer,{children:[0===b&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(k.Z,{bg:"primary",children:"Latest"})," "]}),(0,d.jsx)(k.Z,{bg:"secondary",children:a.beacon.network})]})]})},a.digest)})})})]})]})}var r=c(9008),s=c.n(r),t=c(5675),u=c.n(t),v=c(9301),w=c(1604),x=c(478),y=c(214),z=c.n(y),A=["http://aggregator.api.mithril.network/aggregator","http://localhost:8080/aggregator"];function B(a){var b=function(b){a.onIntervalChange(parseInt(b.target.value))},c=function(){a.onStartStopPress(!a.isStartStopPressed)};return(0,d.jsxs)(v.Z.Group,{as:p.Z,className:a.className,children:[(0,d.jsx)(v.Z.Label,{children:"Update Interval:"}),(0,d.jsxs)(w.Z,{children:[(0,d.jsx)(l.Z,{type:"button",onClick:c,variant:a.isStartStopPressed?"primary":"success",children:a.isStartStopPressed?"Pause â¸":"Resume â–¶"}),(0,d.jsxs)(v.Z.Select,{value:a.interval,onChange:b,children:[(0,d.jsx)("option",{value:1e3,children:"1 seconds"}),(0,d.jsx)("option",{value:5e3,children:"5 seconds"}),(0,d.jsx)("option",{value:1e4,children:"10 seconds"})]})]})]})}function C(a){var b=function(b){a.onAggregatorChange(b.target.value)};return(0,d.jsxs)(v.Z.Group,{as:p.Z,className:a.className,children:[(0,d.jsx)(v.Z.Label,{children:"Aggregator:"}),(0,d.jsx)(v.Z.Select,{value:a.aggregator,onChange:b,children:a.availableAggregators.map(function(a,b){return(0,d.jsx)("option",{value:a,children:a},"agg-"+b)})})]})}function D(){var a=function(a){h(a)},b=function(a){p(a)},c=function(a){l(a)},f=(0,e.useState)(A[0]),g=f[0],h=f[1],j=(0,e.useState)(1e4),k=j[0],l=j[1],m=(0,e.useState)(!0),n=m[0],p=m[1];return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(s(),{children:[(0,d.jsx)("title",{children:"Mithril Showcase"}),(0,d.jsx)("meta",{name:"description",content:"Showcase of a Mithril Network"}),(0,d.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,d.jsx)("div",{className:z().container,children:(0,d.jsxs)("main",{className:z().main,children:[(0,d.jsx)("h1",{className:z().title,children:"Mithril Showcase"}),(0,d.jsxs)(x.Z,{gap:3,children:[(0,d.jsx)(v.Z,{children:(0,d.jsxs)(o.Z,{xs:1,sm:2,children:[(0,d.jsx)(C,{aggregator:g,onAggregatorChange:a,availableAggregators:A}),(0,d.jsx)(B,{interval:k,onIntervalChange:c,isStartStopPressed:n,onStartStopPress:b})]})}),(0,d.jsx)(i,{aggregator:g,updateInterval:k,autoUpdate:n}),(0,d.jsx)(q,{aggregator:g,updateInterval:k,autoUpdate:n})]})]})}),(0,d.jsxs)("footer",{className:z().footer,children:[(0,d.jsx)("span",{className:z().logo,children:(0,d.jsx)(u(),{src:"/showcase/logo.png",alt:"Mithril Logo",width:32,height:32})})," ",(0,d.jsx)("a",{href:"https://mithril.network/doc",children:"Go back to mithril documentation"})]})]})}},214:function(a){a.exports={container:"Home_container__bCOhY",main:"Home_main__nLjiQ",footer:"Home_footer____T7K",title:"Home_title__T09hD",code:"Home_code__suPER",logo:"Home_logo__27_tb"}}},function(a){a.O(0,[366,774,888,179],function(){var b;return a(a.s=5557)}),_N_E=a.O()}])